(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-575a8942"],{"01e9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("预约管理")])],1),n("el-card",[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{placeholder:"请患者预约号"},model:{value:e.appointmentId,callback:function(t){e.appointmentId=t},expression:"appointmentId"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchByAppointmentId},slot:"append"})],1)],1),n("el-col",{attrs:{offset:6,span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加新预约信息")])],1)],1),n("el-table",{attrs:{data:e.appointmentList,"default-sort":{prop:"appointmentTime",order:"descending"},stripe:""}},[n("el-table-column",{attrs:{type:"index",label:"序列"}}),n("el-table-column",{attrs:{label:"预约时间",sortable:"",prop:"appointmentTime"}}),n("el-table-column",{attrs:{label:"预约号",prop:"appointmentId"}}),n("el-table-column",{attrs:{label:"患者姓名",prop:"userName"}}),n("el-table-column",{attrs:{label:"科室",prop:"cliName"}}),n("el-table-column",{attrs:{label:"医生",prop:"staffName"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(n){return e.registerById(t.$index,t.row)}}},[e._v("挂号")])]}}])})],1),n("el-pagination",{attrs:{"page-sizes":e.queryInfo.pageSizes,"page-size":e.queryInfo.pageSize,"current-page":e.queryInfo.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.queryInfo.totalNumber},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),n("el-dialog",{attrs:{title:"添加预约信息",visible:e.addDialogVisible,width:"50%","label-position":"left"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[n("el-form",{ref:"addAppointmentInfo",attrs:{model:e.addAppointmentInfo,inline:!0}},[n("el-form-item",{attrs:{label:"用户姓名"}},[n("el-input",{model:{value:e.addAppointmentInfo.userName,callback:function(t){e.$set(e.addAppointmentInfo,"userName",t)},expression:"addAppointmentInfo.userName"}})],1),n("el-form-item",{attrs:{label:"联系方式"}},[n("el-input",{model:{value:e.addAppointmentInfo.userTel,callback:function(t){e.$set(e.addAppointmentInfo,"userTel",t)},expression:"addAppointmentInfo.userTel"}})],1),n("br"),n("el-form-item",{attrs:{label:"预约科室"}},[n("el-radio-group",{model:{value:e.addAppointmentInfo.staffSex,callback:function(t){e.$set(e.addAppointmentInfo,"staffSex",t)},expression:"addAppointmentInfo.staffSex"}},[n("el-radio-button",{attrs:{label:"内科(123)"}}),n("el-radio-button",{attrs:{label:"外科(122)"}})],1)],1),n("el-form-item",{attrs:{label:"预约医生"}},[n("el-input",{model:{value:e.addAppointmentInfo.staffId,callback:function(t){e.$set(e.addAppointmentInfo,"staffId",t)},expression:"addAppointmentInfo.staffId"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",[e._v("取 消")]),n("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)],1)],1)],1)},o=[],r=(n("a434"),n("1bab")),s={name:"Appointment",data:function(){return{addDialogVisible:!1,appointmentList:[],queryInfo:{totalNumber:40,pageSize:10,pageSizes:[10,20,30,40],currentPage:1},appointmentId:"",addAppointmentInfo:{userName:"",userTel:"",staffId:"",staffName:""}}},activated:function(){var e=this;console.log("appointment active"),Object(r["a"])({url:"/home/appointment/appointmentListInit"}).then((function(t){var n=t.data;200===n.status?(console.log(n),e.appointmentList=n.result.data,e.$message({type:"success",message:"预约列表查询成功!"})):e.$message({type:"error",message:"预约列表查询失败!"})})).catch((function(t){console.log(t),e.$message({type:"error",message:"因网络波动,操作失败!"})}))},methods:{searchByAppointmentId:function(){var e=this;console.log(this.appointmentId),Object(r["a"])({url:"/home/appointment/searchByAppointmentId",method:"post",data:{appointmentId:this.appointmentId}}).then((function(t){var n=t.data;200===n.status?(console.log(n),e.appointmentList=n.result.data,e.$message({type:"success",message:"预约列表查询成功!"})):e.$message({type:"error",message:"预约列表查询失败!"})})).catch((function(t){console.log(t),e.$message({type:"error",message:"因网络波动,操作失败!"})}))},handleSizeChange:function(e){console.log(e),this.queryInfo.pageSize=e},handleCurrentChange:function(e){console.log(e)},registerById:function(e,t){var n=this;console.log(t),Object(r["a"])({url:"/home/queue/registerById",method:"post",data:{appointmentId:t.appointmentId,staffId:t.staffId,userId:t.userId}}).then((function(t){var a=t.data;200===a.status?(n.appointmentList.splice(e,1),n.$message({type:"success",message:"挂号成功!"})):n.$message({type:"error",message:"挂号操作失败!"})})).catch((function(e){n.$message({type:"error",message:"因网络波动,操作失败"})}))}}},i=s,l=n("2877"),p=Object(l["a"])(i,a,o,!1,null,"e55576de",null);t["default"]=p.exports},"1dde":function(e,t,n){var a=n("d039"),o=n("b622"),r=n("2d00"),s=o("species");e.exports=function(e){return r>=51||!a((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,n){var a=n("861d"),o=n("e8b5"),r=n("b622"),s=r("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var a=n("c04e"),o=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var s=a(t);s in e?o.f(e,s,r(0,n)):e[s]=n}},a434:function(e,t,n){"use strict";var a=n("23e7"),o=n("23cb"),r=n("a691"),s=n("50c4"),i=n("7b0b"),l=n("65f0"),p=n("8418"),c=n("1dde"),u=n("ae40"),d=c("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,a,c,u,d,f,I=i(this),v=s(I.length),y=o(e,v),A=arguments.length;if(0===A?n=a=0:1===A?(n=0,a=v-y):(n=A-2,a=b(m(r(t),0),v-y)),v+n-a>g)throw TypeError(h);for(c=l(I,a),u=0;u<a;u++)d=y+u,d in I&&p(c,u,I[d]);if(c.length=a,n<a){for(u=y;u<v-a;u++)d=u+a,f=u+n,d in I?I[f]=I[d]:delete I[f];for(u=v;u>v-a+n;u--)delete I[u-1]}else if(n>a)for(u=v-a;u>y;u--)d=u+a-1,f=u+n-1,d in I?I[f]=I[d]:delete I[f];for(u=0;u<n;u++)I[u+y]=arguments[u+2];return I.length=v-a+n,c}})},ae40:function(e,t,n){var a=n("83ab"),o=n("d039"),r=n("5135"),s=Object.defineProperty,i={},l=function(e){throw e};e.exports=function(e,t){if(r(i,e))return i[e];t||(t={});var n=[][e],p=!!r(t,"ACCESSORS")&&t.ACCESSORS,c=r(t,0)?t[0]:l,u=r(t,1)?t[1]:void 0;return i[e]=!!n&&!o((function(){if(p&&!a)return!0;var e={length:-1};p?s(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,u)}))}},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-575a8942.0844fb75.js.map